<%= form_for([:account, @address], html: { id: "form" }) do |f| %>
  <h2>お届け先住所登録</h2>
  <% if @address.errors.any? %>
    <div id="error_explanation">
      <h2><%= @address.errors.count %>件のエラーが発生しました。</h2>
      <ul>
      <% @address.errors.full_messages.each do |message| %>
        <li><%= message %></li>
      <% end %>
      </ul>
    </div>
  <% end %>
 <div class="form__field">
    <%= f.label :zipcode, "郵便番号" %>
    <%= f.text_field :zipcode, autofocus: false, class: "form__text--long", id: "jquery__address-zipcode", placeholder: "1500000" %>
  </div>
  <div class="form__field">
    <%= f.label :city, "都道府県" %>
    <%= f.text_field :city, autofocus: false, class: "form__text--long", id: "jquery__address-pref", placeholder: "東京" %>
  </div>
  <div class="form__field">
    <%= f.label :address, "市区町村以下" %>
    <%= f.text_field :address, autofocus: false, class: "form__text--long", id: "jquery__address-city", placeholder: "中央区銀座3-9-6" %>
  </div>
  <div class="form__field">
    <%= f.label :phone, "電話番号" %>
    <%= f.telephone_field :phone, class: "form__text--long", placeholder: "08012341234" %>
  </div>
  <div class="form__field">
    <%= f.label :last_name, "姓" %>
    <%= f.text_field :last_name, value: set_last_name(request.referer, @address), autofocus: true, class: "form__text--long" %>
  </div>
  <div class="form__field">
    <%= f.label :first_name, "名" %>
    <%= f.text_field :first_name, value: set_first_name(request.referer, @address), class: "form__text--long" %>
  </div>
  <%= hidden_field_tag "continue", @continue %>
  <div class="form__field">
    <% if @address.id.blank? %>
      <%= f.submit "登録", class: "c-btn--submit c-btn--submit--single", :onclick=> "prevent_double_submit(event)" %>
    <% else %>
      <div class="c-btn--delete--half">
        <%= link_to "削除", account_address_path(id: address.id), class: "u-white_font_color", data: {method: :delete, confirm: "本当に削除しますか？"} %>
      </div>
      <%= f.submit "保存", class: "c-btn--submit--half" %>
    <% end %>
  </div>
<% end %>
